<!DOCTYPE html>

<!--
File Name: testInformationTrue.html
Date: 02/26/14
Programmer: Marilyn Wagner
-->

<html>

<head>
<meta charset="utf-8">

<title>Test</title>
<style>
	body {
		background-color: #C0C0C0;
		margin-left: 10%;
	}

</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script>

function ValidateFirstName() {
	var myTextField = document.getElementById('firstname');
	if (myTextField.value == null || myTextField.value == "") {
		alert("First name must be filled out");
		return false;	
	}
	return true;
}

function ValidateEmail() {
	var myTextField = document.getElementById('myEmail');
	if (myTextField.value == null || myTextField.value == "") {
		alert("Email address must be filled out");
		return false;	
	}
	return true;
}

function ValidatePhone() {
	var myTextField = document.getElementById('phone');
	if (myTextField.value == null || myTextField.value == "") {
		alert("Phone number must be filled out");
		return false;	
	}
	
	var str = document.getElementById('phone');
	var newStr = str.value.replace(/\W/g, '');
	
	if (isNaN (newStr)) {
		alert ("Please enter a number here");
		return false;
	}
	
	if (newStr.length != 10 ) {
		alert ("Please enter ten digits for your phone number");
		return false;
	}
	return true;		
}

function ValidateFavoritePet() {
	choice = "";
	len = document.myForm.favpet.length;

	for (i = 0; i <len; i++) {
		if (document.myForm.favpet[i].checked) {
		choice = document.myForm.favpet[i].value;
		}
	}

	if (choice == "") {
	alert("Please select your preference: dogs, cats or neither");
	}
	
	else {
		return true;
	}
}

function ValidateFavoriteNumber() {
	var myTextField = document.getElementById('favnumber');
	if (myTextField.value == null || myTextField.value == "") {
		alert("Favorite number must be filled out");
		return false;	
	}
	return true;
}

function AskUserIfOK() {
	var r = confirm("Do you really want to submit?");
	if (r == true) {
	    //alert("You pressed OK!");
	    return true;
	}
	else {
	    //alert("You pressed Cancel!");
	    return false;
	} 
}

function ValidateForm(event) {
	var valid = true;
	valid = valid && ValidateFirstName();
	valid = valid && ValidateEmail();
	valid = valid && ValidatePhone();
	valid = valid && ValidateFavoritePet();
	valid = valid && ValidateFavoriteNumber();
	if ( valid ) {
				// this means validation passed
		var ok = AskUserIfOK();
		if (ok) {
			return;	
		}
		else {
			event.preventDefault();
		}	
	}
	// if we got here, it means validation failed
	event.preventDefault();
}

$(document).ready( function(){
	$('form').submit(function(event) {
		ValidateForm(event);		
	});
});

</script>

</head>

<body>
	<h2>This is a form validation example.</h2>

<form name="myForm" action="http://webdevbasics.net/scripts/demo.php" method="post">

	<label for="firstname">First Name:</label>
	<input type="text" name="firstname" id="firstname"><br><br>

	<label for="nickname">Nickname:</label>
	<input type="text" name="nickname" id="nickname"><br><br>
	
	<label for="myEmail">E-mail:</label>
	<input type="email" name="myEmail" id="myEmail"><br><br>
	
	<label for="phone">Phone Number:</label>
	<input type="tel" name="phone" id="phone"><br><br>
	
	<label for="favDogs">What is your preference?</label><br>
	<input type="radio" name="favpet" id="favDogs" value="Dogs">Dogs<br>
	<input type="radio" name="favpet" id="favCats" value="Cats">Cats<br>
	<input type="radio" name="favpet" id="favNeither" value="Neither">Neither<br><br>
	
	<label for="favnumber">Your Favorite Number Between 1 and 50:</label>
	<input type="text" name="favnumber" id="favnumber"><br><br>
	
	<input type="submit" value="Submit">	
	
</form>

</body>

</html>